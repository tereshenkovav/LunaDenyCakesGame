Игра по мотивам MLP:FiM про Принцессу Луну, Принцессу Селестию и тортики.\
На базе C#, NET.Core и SFML.

## О проекте

Задача игры - уничтожить Принцессой Луной все кексы на карте до того, 
как принцесса Селестия сьест их в критичном для себя количестве.
Принцесса Луна может перемещаться влево-вправо по платформам,
телепортироваться между платформами, стрелять роголазером по уровню
платформы, призывать куриц и устанавливать щиты на кексы.

![LunaDenyCakesGame](screen1.png) ![LunaDenyCakesGame](screen2.png)

## Состав репозитория

* `data` - каталог контента игры (графика, звуки, тексты)
* `graphics` - иконки игры для дистрибутива и AppImage
* `LunaDenyCakesGame` - исходный код игры в виде проектов для Visual Studio и dotnet.
Включает зависимость SFML.Net
* `setup` - скрипты сборки игры, а также создания дистрибутивов/архивов для Windows, 
и AppImage для Linux

## Инструменты сборки

Для сборки проекта нужен установленный
[NetCoreSDK 3.1](https://dotnet.microsoft.com/en-us/download/dotnet/3.1)
(в теории, должно работать с любой версией NET)

Создание дистрибутива для Windows выполняется с помощью программы
[NSIS](https://nsis.sourceforge.io)

Создание архива для Windows выполняется с помощью консольной версии архиватора 
[7-Zip](https://www.7-zip.org)

Для создания AppImage под Linux необходим инструмент сборки AppImageKit - 
[appimagetool-x86_64.AppImage](https://github.com/AppImage/AppImageKit/releases)

## Сборка, запуск игры и создание дистрибутивов

Проект может быть как открыт для компиляции в Visual Studio, так и собран командой `dotnet` 
из каталога, где находится файл `LunaDenyCakesGame.csproj`

```
dotnet build -c Release
```

Для запуска игры, нужно скопировать все файлы и подкаталоги из каталога `data` 
в каталог, где расположен исполнимый файл игры, после чего запускать файл 
`LunaDenyCakesGame.exe`.\
Создание архива и дистрибутива для Windows выполняется автоматически при
запуске файла `build64.bat` из каталога `setup/windows` 
(может потребоваться указать путь к компилятору NSIS).\
Для создания AppImage под Linux сначала нужно выполнить под Windows файл `build64.bat`
из каталога `setup/linux`, после чего скопировать весь каталог проекта 
(включая каталог вывода сборки `build-LunaDenyCakesGame`) на 64-битную
систему Linux и выполнить в `setup/linux` скрипт `make_appimage64.sh` - в каталоге `/tmp`
появятся готовые образы AppImage для 64-битной версии Linux.
При наличии установленного dotnet на Linux можно объединить эти шаги и обойтись без
компиляции проекта на Windows.
